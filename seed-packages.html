<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seed Online Packages</title>
</head>
<body>
    <h1>Seed Online Packages</h1>
    <button id="seedBtn">Seed Packages</button>
    <pre id="output"></pre>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, doc, setDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase config - replace with your actual config
        const firebaseConfig = {
            apiKey: "AIzaSyApHCzYdN0aDhpxNHqKUdoBFGC9XQVJfvc",
            authDomain: "naucisprski.firebaseapp.com",
            projectId: "naucisprski",
            storageBucket: "naucisprski.firebasestorage.app",
            messagingSenderId: "648013620686",
            appId: "1:648013620686:web:ab53224f5e5e7efccb5e43"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const packages = [
            {
                id: 'basic',
                name: 'Месечни Пакет',
                price: 4999,
                duration: '1 месец',
                durationMonths: 1,
                description: 'Идеалан за пробу online наставе',
                features: [
                    '4 часа месечно (сваке недеље)',
                    'Интерактивна настава уживо',
                    'Максимално 8 ученика по групи',
                    'Материјали за вежбање',
                    'Снимци свих часова',
                ],
                isActive: true
            },
            {
                id: 'semester',
                name: 'Полугодишњи Пакет',
                price: 24999,
                duration: '6 месеци',
                durationMonths: 6,
                description: 'Најбоља вредност за новац',
                features: [
                    '24 часа (сваке недеље 6 месеци)',
                    'Интерактивна настава уживо',
                    'Максимално 8 ученика по групи',
                    'Материјали за вежбање',
                    'Снимци свих часова',
                    'Бесплатан приступ свим видео курсевима',
                    'Приоритетна подршка',
                ],
                isActive: true
            },
            {
                id: 'annual',
                name: 'Годишњи Пакет',
                price: 44999,
                duration: '12 месеци',
                durationMonths: 12,
                description: 'Комплетна припрема за малу матуру',
                features: [
                    '48 часова (целе школске године)',
                    'Интерактивна настава уживо',
                    'Максимално 8 ученика по групи',
                    'Материјали за вежбање',
                    'Снимци свих часова',
                    'Бесплатан приступ свим видео курсевима',
                    'Приоритетна подршка',
                    'Индивидуални тестови и оцене',
                    'Завршни сертификат',
                ],
                isActive: true
            }
        ];

        async function seedPackages() {
            const output = document.getElementById('output');
            output.textContent = 'Starting to seed packages...\n';

            try {
                for (const pkg of packages) {
                    const { id, ...data } = pkg;
                    await setDoc(doc(db, 'online_packages', id), {
                        ...data,
                        createdAt: serverTimestamp(),
                        updatedAt: serverTimestamp()
                    });
                    output.textContent += `✓ Created package: ${data.name}\n`;
                }

                output.textContent += '\n✓ All packages seeded successfully!';
            } catch (error) {
                output.textContent += '\n✗ Error: ' + error.message;
                console.error('Error seeding packages:', error);
            }
        }

        document.getElementById('seedBtn').addEventListener('click', seedPackages);
    </script>
</body>
</html>
